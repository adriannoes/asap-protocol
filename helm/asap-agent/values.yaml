# Default values for asap-agent Helm chart.
# Deploy: helm install asap-agent ./helm/asap-agent -f my-values.yaml

# Number of replicas
replicaCount: 1

# Image for the ASAP agent
image:
  repository: asap-protocol
  tag: latest
  pullPolicy: IfNotPresent
  # Override for registry: ghcr.io/adriannoes/asap-protocol
  # repository: ghcr.io/adriannoes/asap-protocol

# ASAP server configuration (env vars)
config:
  host: "0.0.0.0"
  port: "8000"
  workers: "1"
  debug: "false"
  rateLimit: "10/second;100/minute"
  maxRequestSize: "10485760"

# Health probes: /health (liveness), /ready (readiness)
probes:
  liveness:
    path: /health
    initialDelaySeconds: 10
    periodSeconds: 15
    timeoutSeconds: 5
    failureThreshold: 3
  readiness:
    path: /ready
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

# Resource requests and limits
resources:
  requests:
    memory: "128Mi"
    cpu: "100m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Security context (non-root)
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  capabilities:
    drop:
      - ALL

# Service
service:
  type: ClusterIP
  port: 8000

# Ingress (disabled by default)
ingress:
  enabled: false
  className: nginx
  annotations: {}
  # cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: asap-agent.local
      paths:
        - path: /
          pathType: Prefix
  tls: []
  # - secretName: asap-agent-tls
  #   hosts:
  #     - asap-agent.local

# Pod labels and annotations
podLabels: {}
podAnnotations: {}

# Node selector, tolerations, affinity (optional)
nodeSelector: {}
tolerations: []
affinity: {}
