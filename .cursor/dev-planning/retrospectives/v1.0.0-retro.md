# ASAP Protocol v1.0.0 — Release Retrospective

> **Release**: v1.0.0 (Production-Ready)  
> **Date**: 2026-02-04  
> **Sprint**: P13 (final)

---

## 1. What went well

- **Phased roadmap**: P1–P12 delivered security, performance, DX, testing, docs, and observability in clear sprints with checkpoints. Pre-release audit (13.0) caught integration gaps before release.
- **PRD-driven decisions**: Open questions (Q1–Q12) were resolved at sprint checkpoints and documented as DD-009 through DD-013. HMAC and adaptive rate limiting were explicitly deferred to v1.1.0 with rationale.
- **Test and quality bar**: 1379+ tests, property/load/chaos/contract coverage, pip-audit and Bandit clean, Ruff and mypy strict. Contract tests validated v0.1.0 → v1.0.0 and v0.5.0 → v1.0.0 upgrade paths.
- **Documentation and examples**: 4+ tutorials, 17 ADRs, deployment guides, troubleshooting, and 10+ runnable examples (auth, MCP, long-running, error recovery, etc.) gave a solid onboarding path.
- **Observability**: OpenTelemetry tracing, 20+ metrics, Prometheus export, and Grafana dashboards (RED + detailed) aligned with production needs.
- **MCP**: Full MCP 2025-11-25 alignment and integration tests improved protocol usability.

---

## 2. What could improve

- **Coverage target**: Goal was ≥95%; achieved ~94.8%. A small push (e.g. trace_parser, compression, client edge cases) would have closed the gap; acceptable for v1.0.0 with follow-up in v1.1.0.
- **Load latency**: p95 target was <5ms; under 50-user load we saw ~17–21ms. Benchmarks/RESULTS.md documented this and recommended horizontal scaling for strict p95 targets. Making this trade-off explicit earlier would have set expectations better.
- **Single push for release**: Release prep (13.3–13.7) was done in one batch on main. Doing 13.4 (tag, PyPI, GitHub release, Docker) immediately after the same push would reduce “did we publish?” ambiguity; alternatively, a short release-runbook (when to tag, when to publish) would help.

---

## 3. Lessons learned

- **Integration tests pay off**: Batch + auth + pooling and MCP + ASAP integration tests added in the audit (13.0) caught real behavior that unit tests alone would miss.
- **Contract tests reduce upgrade risk**: v0.1.0/v0.5.0 → v1.0.0 contract tests gave confidence for public “production-ready” messaging.
- **Deferring non-blockers**: Documenting “defer to v1.1.0” (e.g. HMAC, adaptive rate limiting, pytest plugin) kept scope manageable and left a clear backlog.

---

## 4. Metrics vs targets

| Metric | Target | Actual | Status |
|--------|--------|--------|--------|
| Tests | 800+ | 1379+ | ✅ |
| Coverage | ≥95% | ~94.8% | ⚠️ Close |
| Load RPS | ≥800 | 1532+ | ✅ |
| Load error rate | <0.1% | 0% | ✅ |
| p95 latency (high load) | <5ms | ~17–21ms | ⚠️ Doc’d |
| Security (pip-audit) | 0 critical | 0 | ✅ |
| Linters | 0 errors | 0 | ✅ |
| Docs / examples | Complete | Tutorials, ADRs, examples, deployment | ✅ |
| MCP | Spec compliant | 2025-11-25 | ✅ |

---

## 5. Recommendations for v1.1.0

- **Reach 95%+ coverage**: Add tests for trace_parser, compression, and client edge cases identified in the audit.
- **Post-release review**: Run the “2 weeks after v1.0.0” PRD review (Section 11 open questions Q7, Q9–Q12) and update backlog.
- **Release runbook**: Document steps for 13.4 (build, tag, PyPI, GitHub release, Docker) and where to update version/status.
- **v1.1.0 backlog**: Use [backlog-v1.1.md](../tasks/v1.1.0/backlog-v1.1.md) and PRD open questions for prioritization (e.g. HMAC, adaptive rate limiting, pytest plugin, WebSocket/gRPC exploration).

---

**Next step**: Schedule post-release review (e.g. 2 weeks after v1.0.0 publish) and update this doc or the PRD with any follow-up decisions.
